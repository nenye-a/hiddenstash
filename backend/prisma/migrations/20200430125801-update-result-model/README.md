# Migration `20200430125801-update-result-model`

This migration has been generated by RaymondAnggara at 4/30/2020, 12:58:01 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."new_Result" (
    "amount" TEXT NOT NULL DEFAULT '' ,
    "description" TEXT NOT NULL DEFAULT '' ,
    "id" TEXT NOT NULL  ,
    "name" TEXT NOT NULL DEFAULT '' ,
    "price" TEXT NOT NULL DEFAULT '' ,
    "stashItem" TEXT   ,
    "stashItemId" TEXT   ,
    "url" TEXT NOT NULL DEFAULT '' ,
    PRIMARY KEY ("id"),FOREIGN KEY ("stashItem") REFERENCES "StashItem"("id") ON DELETE SET NULL
) 

INSERT INTO "quaint"."new_Result" ("id", "price", "stashItem", "stashItemId", "url") SELECT "id", "price", "stashItem", "stashItemId", "url" FROM "quaint"."Result"

DROP TABLE "quaint"."Result";

ALTER TABLE "quaint"."new_Result" RENAME TO "Result";

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200428142820-add-stash-item..20200430125801-update-result-model
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url      = "file:./dev.db"
 }
 generator client {
   provider = "prisma-client-js"
@@ -14,10 +14,13 @@
 }
 model Result {
   id          String  @default(cuid()) @id
-  url         String
-  price       Float
+  name        String  @default("")
+  description String  @default("")
+  amount      String  @default("")
+  url         String  @default("")
+  price       String  @default("")
   stashItemId String?
 }
 model StashItem {
```


